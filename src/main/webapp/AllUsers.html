<!DOCTYPE html>
<html>
<head>

    <meta charset="UTF-8">
    <link rel="stylesheet" type="text/css" href="Master.css">

</head>
<body>
<div id = "headerDiv">
    <h2>D&D</h2>
    <div id = "headerContainer">
        <button onclick="switchPage('AllUsers.html');">User</button>
        <button onclick="switchPage('AllCharacters.html');">Character</button>
        <button onclick="switchPage('AllItems.html');">Item</button>
        <button onclick="switchPage('AllGroups.html');">Group</button>
    </div>
</div>

    <br>

    <div class="innerBody">
            <table>
                <tr>
                    <th>Id</th>
                    <th>Username</th>
                    <th>Roles</th>
                </tr>
            </table>


<button onclick="insertTable();">Create row </button>

    <script> function insertTable(){
        var userList;
        $.get("http://localhost:8080/rest/user/all", function(data){
            userList = data;
            for ( i in userList) {
                var table = document.getElementById("myTable");
                var row1 = table.insertRow(1);
                var cell1Id = row1.insertCell(0);
                var cell2User = row1.insertCell(1);
                var cell3Roles = row1.insertCell(2);

                cell1Id.innerHTML = userList[i].id;
                cell2User.innerHTML = userList[i].name;
                cell3Roles.innerHTML= userList[i].role;
            }
        });
    }</script>


    <form action="rest/users/save" method="post">
        <p>User name : <input type="text" name="username" /></p>
        <p>Role : <input type="text" name="role" /></p>
        <input type="submit" value="Create user" onclick=selecter(1); />
        <input type="submit" value="Update user" onclick=selecter(2); />
        <input type="submit" value="Delete user" onclick=selecter(3); />
        <p><input type="hidden" value="" name="userid"/></p>
        <p><input type="hidden" value="" name="selection"/></p>
    </form>




    <form onload="updateTextField()" action="rest/user/search">
        <p>Character ID <input type="text" name="id" id="id" /></p>
        <input type="button" onclick=updateTextField(); value="Search"/>
    </form>

    <script>function updateTextField() {
        $.get("http://localhost:8080/rest/user/"+id, function(data){
            document.getElementById("username").value = data.username;
            document.getElementById("description").value = data.description;
            document.getElementById("userid").value = data.userid;
            ;});
    } </script>

    <script>function selecter(x) {
        document.getElementById("selection").value = x;
    } </script>






    </div>

</body>
</html>